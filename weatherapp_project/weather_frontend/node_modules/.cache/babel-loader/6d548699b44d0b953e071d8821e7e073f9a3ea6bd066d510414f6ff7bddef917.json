{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Navbar from\"../components/Navbar\";import WeatherCard from\"../components/WeatherCard\";import{Button}from\"baseui/button\";import{styled}from\"baseui\";import endpoints from'../store/endpoints.json';// Styled container for weather cards\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WeatherContainer=styled(\"div\",{display:\"grid\",gridTemplateColumns:\"repeat(3, 1fr)\",// Ensures 3 cards per row\ngap:\"16px\",padding:\"20px\",justifyContent:\"center\"});export default function HomePage(){const[citiesWeather,setCitiesWeather]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const API_URL=`${endpoints.weather_service}`;axios.get(API_URL).then(response=>{if(response.data.status===\"1\"&&response.data.weathers.length>0){setCitiesWeather(response.data.weathers);}else{setCitiesWeather([]);}setLoading(false);}).catch(error=>{console.error(\"❌ API Error:\",error);setError(\"Failed to fetch weather data\");setLoading(false);});},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"Loading weather data...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:error});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(WeatherContainer,{children:citiesWeather.map((data,index)=>/*#__PURE__*/_jsx(WeatherCard,{...data},index))})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","Navbar","WeatherCard","Button","styled","endpoints","jsx","_jsx","jsxs","_jsxs","WeatherContainer","display","gridTemplateColumns","gap","padding","justifyContent","HomePage","citiesWeather","setCitiesWeather","loading","setLoading","error","setError","API_URL","weather_service","get","then","response","data","status","weathers","length","catch","console","style","textAlign","children","color","map","index"],"sources":["/tmp/Weather-App/weatherapp_project/weather_frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"../components/Navbar\";\nimport WeatherCard from \"../components/WeatherCard\";\nimport { Button } from \"baseui/button\";\nimport { styled } from \"baseui\";\nimport endpoints from '../store/endpoints.json';\n\n// Styled container for weather cards\nconst WeatherContainer = styled(\"div\", {\n  display: \"grid\",\n  gridTemplateColumns: \"repeat(3, 1fr)\", // Ensures 3 cards per row\n  gap: \"16px\",\n  padding: \"20px\",\n  justifyContent: \"center\",\n});\n\nexport default function HomePage() {\n  const [citiesWeather, setCitiesWeather] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const API_URL = `${endpoints.weather_service}`;\n    axios\n      .get(API_URL)\n      .then((response) => {\n        if (response.data.status === \"1\" && response.data.weathers.length > 0) {\n          setCitiesWeather(response.data.weathers);\n        } else {\n          setCitiesWeather([]);\n        }\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.error(\"❌ API Error:\", error);\n        setError(\"Failed to fetch weather data\");\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <p style={{ textAlign: \"center\" }}>Loading weather data...</p>;\n  if (error) return <p style={{ textAlign: \"center\", color: \"red\" }}>{error}</p>;\n\n  return (\n    <div>\n      <Navbar />\n      <WeatherContainer>\n        {citiesWeather.map((data, index) => (\n          <WeatherCard key={index} {...data} />\n        ))}\n      </WeatherContainer>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAASC,MAAM,KAAQ,eAAe,CACtC,OAASC,MAAM,KAAQ,QAAQ,CAC/B,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAE/C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,gBAAgB,CAAGN,MAAM,CAAC,KAAK,CAAE,CACrCO,OAAO,CAAE,MAAM,CACfC,mBAAmB,CAAE,gBAAgB,CAAE;AACvCC,GAAG,CAAE,MAAM,CACXC,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAClB,CAAC,CAAC,CAEF,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CACjC,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACsB,KAAK,CAAEC,QAAQ,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAyB,OAAO,CAAG,GAAGlB,SAAS,CAACmB,eAAe,EAAE,CAC9CxB,KAAK,CACFyB,GAAG,CAACF,OAAO,CAAC,CACZG,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAACC,MAAM,GAAK,GAAG,EAAIF,QAAQ,CAACC,IAAI,CAACE,QAAQ,CAACC,MAAM,CAAG,CAAC,CAAE,CACrEb,gBAAgB,CAACS,QAAQ,CAACC,IAAI,CAACE,QAAQ,CAAC,CAC1C,CAAC,IAAM,CACLZ,gBAAgB,CAAC,EAAE,CAAC,CACtB,CACAE,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDY,KAAK,CAAEX,KAAK,EAAK,CAChBY,OAAO,CAACZ,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACpCC,QAAQ,CAAC,8BAA8B,CAAC,CACxCF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,CAAE,mBAAOZ,IAAA,MAAG2B,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,CAAC,yBAAuB,CAAG,CAAC,CAClF,GAAIf,KAAK,CAAE,mBAAOd,IAAA,MAAG2B,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEE,KAAK,CAAE,KAAM,CAAE,CAAAD,QAAA,CAAEf,KAAK,CAAI,CAAC,CAE9E,mBACEZ,KAAA,QAAA2B,QAAA,eACE7B,IAAA,CAACN,MAAM,GAAE,CAAC,cACVM,IAAA,CAACG,gBAAgB,EAAA0B,QAAA,CACdnB,aAAa,CAACqB,GAAG,CAAC,CAACV,IAAI,CAAEW,KAAK,gBAC7BhC,IAAA,CAACL,WAAW,KAAiB0B,IAAI,EAAfW,KAAkB,CACrC,CAAC,CACc,CAAC,EAChB,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}