{"ast":null,"code":"import React,{useState}from\"react\";import Navbar from\"../components/Navbar\";import WeatherCard from\"../components/WeatherCard\";import DeleteWeather from\"../components/DeleteWeather\";import UpdateWeather from\"../components/UpdateWeather\";import{Button}from\"baseui/button\";import{Input}from\"baseui/input\";import{styled}from\"baseui\";import axios from\"axios\";// Styled components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled(\"div\",{width:\"400px\",margin:\"20px auto\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 4px 8px rgba(0,0,0,0.2)\",backgroundColor:\"#ffffff\",fontFamily:\"Arial, sans-serif\",display:\"flex\",flexDirection:\"column\",gap:\"12px\"});const MessageBox=styled(\"div\",props=>({width:\"400px\",margin:\"10px auto\",padding:\"10px\",borderRadius:\"8px\",textAlign:\"center\",color:\"#fff\",backgroundColor:props.$error?\"red\":\"green\"}));export default function SearchWeather(){const[city,setCity]=useState(\"\");const[weather,setWeather]=useState(null);const[message,setMessage]=useState(null);const[error,setError]=useState(false);const[loading,setLoading]=useState(false);const handleSearch=async e=>{e.preventDefault();if(!city.trim()){setMessage(\"❌ Please enter a city name.\");setError(true);setWeather(null);return;}if(!city.match(/^[A-Za-z\\s]+$/)){setMessage(\"❌ City name must contain only letters.\");setError(true);setWeather(null);return;}setLoading(true);setMessage(null);setError(false);try{const response=await axios.get(`${endpoints.weather_service}${city.trim()}`);if(response.data.status===1){setWeather(response.data.weather);setMessage(null);}else{setWeather(null);setMessage(\"❌ City not found.\");setError(true);}}catch(error){console.error(\"❌ API Error:\",error);setWeather(null);setMessage(\"❌ City not found.\");setError(true);}finally{setLoading(false);}};const handleDeleteSuccess=()=>{setWeather(null);setMessage(\"✅ Weather info deleted successfully!\");setError(false);};const handleUpdateSuccess=updatedWeather=>{setWeather(updatedWeather);setMessage(\"✅ Weather info updated successfully!\");setError(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",marginTop:\"20px\"},children:\"Search Weather\"}),message&&/*#__PURE__*/_jsx(MessageBox,{$error:error,children:message}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Input,{placeholder:\"Enter city name...\",value:city,onChange:e=>setCity(e.target.value)}),/*#__PURE__*/_jsx(Button,{onClick:handleSearch,disabled:loading,children:loading?\"Searching...\":\"Search\"})]}),weather&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(WeatherCard,{city:weather.city,temperature:weather.temperature,humidity:weather.humidity,windspeed:weather.windspeed}),/*#__PURE__*/_jsx(DeleteWeather,{city:weather.city,onDeleteSuccess:handleDeleteSuccess}),/*#__PURE__*/_jsx(UpdateWeather,{city:weather.city,temperature:weather.temperature,humidity:weather.humidity,windspeed:weather.windspeed,onUpdateSuccess:handleUpdateSuccess})]})]});}","map":{"version":3,"names":["React","useState","Navbar","WeatherCard","DeleteWeather","UpdateWeather","Button","Input","styled","axios","jsx","_jsx","jsxs","_jsxs","Container","width","margin","padding","borderRadius","boxShadow","backgroundColor","fontFamily","display","flexDirection","gap","MessageBox","props","textAlign","color","$error","SearchWeather","city","setCity","weather","setWeather","message","setMessage","error","setError","loading","setLoading","handleSearch","e","preventDefault","trim","match","response","get","endpoints","weather_service","data","status","console","handleDeleteSuccess","handleUpdateSuccess","updatedWeather","children","style","marginTop","placeholder","value","onChange","target","onClick","disabled","temperature","humidity","windspeed","onDeleteSuccess","onUpdateSuccess"],"sources":["/tmp/Weather-App/weatherapp_project/weather_frontend/src/pages/SearchWeather.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport WeatherCard from \"../components/WeatherCard\";\nimport DeleteWeather from \"../components/DeleteWeather\"; \nimport UpdateWeather from \"../components/UpdateWeather\";\n\nimport { Button } from \"baseui/button\";\nimport { Input } from \"baseui/input\";\nimport { styled } from \"baseui\";\nimport axios from \"axios\";\n\n// Styled components\nconst Container = styled(\"div\", {\n  width: \"400px\",\n  margin: \"20px auto\",\n  padding: \"20px\",\n  borderRadius: \"10px\",\n  boxShadow: \"0 4px 8px rgba(0,0,0,0.2)\",\n  backgroundColor: \"#ffffff\",\n  fontFamily: \"Arial, sans-serif\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: \"12px\",\n});\n\nconst MessageBox = styled(\"div\", (props) => ({\n  width: \"400px\",\n  margin: \"10px auto\",\n  padding: \"10px\",\n  borderRadius: \"8px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  backgroundColor: props.$error ? \"red\" : \"green\",\n}));\n\nexport default function SearchWeather() {\n  const [city, setCity] = useState(\"\");\n  const [weather, setWeather] = useState(null);\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleSearch = async (e) => {\n    e.preventDefault();\n\n    if (!city.trim()) {\n      setMessage(\"❌ Please enter a city name.\");\n      setError(true);\n      setWeather(null);\n      return;\n    }\n\n    if (!city.match(/^[A-Za-z\\s]+$/)) {\n      setMessage(\"❌ City name must contain only letters.\");\n      setError(true);\n      setWeather(null);\n      return;\n    }\n\n    setLoading(true);\n    setMessage(null);\n    setError(false);\n\n    try {\n      const response = await axios.get(`${endpoints.weather_service}${city.trim()}`);\n      \n      if (response.data.status === 1) {\n        setWeather(response.data.weather);\n        setMessage(null);\n      } else {\n        setWeather(null);\n        setMessage(\"❌ City not found.\");\n        setError(true);\n      }\n    } catch (error) {\n      console.error(\"❌ API Error:\", error);\n      setWeather(null);\n      setMessage(\"❌ City not found.\");\n      setError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteSuccess = () => {\n    setWeather(null);\n    setMessage(\"✅ Weather info deleted successfully!\");\n    setError(false);\n  };\n  const handleUpdateSuccess = (updatedWeather) => {\n    setWeather(updatedWeather);\n    setMessage(\"✅ Weather info updated successfully!\");\n    setError(false);\n  };\n\n  return (\n    <div>\n      <Navbar />\n      <h2 style={{ textAlign: \"center\", marginTop: \"20px\" }}>Search Weather</h2>\n\n   \n      {message && <MessageBox $error={error}>{message}</MessageBox>}\n\n      {/* Search Form */}\n      <Container>\n        <Input\n          placeholder=\"Enter city name...\"\n          value={city}\n          onChange={(e) => setCity(e.target.value)}\n        />\n        <Button onClick={handleSearch} disabled={loading}>\n          {loading ? \"Searching...\" : \"Search\"}\n        </Button>\n      </Container>\n\n      {weather && (\n        <div style={{ textAlign: \"center\" }}>\n          <WeatherCard\n            city={weather.city}\n            temperature={weather.temperature}\n            humidity={weather.humidity}\n            windspeed={weather.windspeed}\n          />\n          <DeleteWeather city={weather.city} onDeleteSuccess={handleDeleteSuccess} />\n          <UpdateWeather \n            city={weather.city} \n            temperature={weather.temperature} \n            humidity={weather.humidity} \n            windspeed={weather.windspeed} \n            onUpdateSuccess={handleUpdateSuccess} \n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}