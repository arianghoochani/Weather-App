{"ast":null,"code":"var _jsxFileName = \"/tmp/Weather-App/weatherapp_project/weather_frontend/src/components/DeleteWeather.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button } from \"baseui/button\";\nimport { styled } from \"baseui\";\nimport axios from \"axios\";\n\n// Styled message box\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageBox = styled(\"div\", props => ({\n  width: \"400px\",\n  margin: \"10px auto\",\n  padding: \"10px\",\n  borderRadius: \"8px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  backgroundColor: props.$success ? \"green\" : \"red\"\n}));\n_c = MessageBox;\nexport default function DeleteWeather({\n  city,\n  onDeleteSuccess\n}) {\n  _s();\n  // ✅ Ensure this is the default export\n  const [message, setMessage] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const handleDelete = async () => {\n    if (!window.confirm(`Are you sure you want to delete weather info for ${city}?`)) {\n      return;\n    }\n    setLoading(true);\n    setMessage(null);\n    try {\n      const response = await axios.delete(`http://116.203.184.212:5000/api/weather/${city}`, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        withCredentials: true // ✅ Required for CORS\n      });\n      if (response.data.status === \"1\") {\n        setSuccess(true);\n        setMessage(`✅ Weather data for ${city} deleted successfully!`);\n        onDeleteSuccess(); // Remove city from UI\n      } else {\n        setSuccess(false);\n        setMessage(\"❌ Failed to delete the weather data.\");\n      }\n    } catch (error) {\n      console.error(\"❌ API Error:\", error);\n      setSuccess(false);\n      setMessage(\"❌ Failed to delete the weather data.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [message && /*#__PURE__*/_jsxDEV(MessageBox, {\n      $success: success,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleDelete,\n      disabled: loading,\n      children: loading ? \"Deleting...\" : \"Delete Weather Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(DeleteWeather, \"ZWVGEVMDy57mKPPoICs74pn29JE=\");\n_c2 = DeleteWeather;\nvar _c, _c2;\n$RefreshReg$(_c, \"MessageBox\");\n$RefreshReg$(_c2, \"DeleteWeather\");","map":{"version":3,"names":["React","useState","Button","styled","axios","jsxDEV","_jsxDEV","MessageBox","props","width","margin","padding","borderRadius","textAlign","color","backgroundColor","$success","_c","DeleteWeather","city","onDeleteSuccess","_s","message","setMessage","success","setSuccess","loading","setLoading","handleDelete","window","confirm","response","delete","headers","withCredentials","data","status","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","_c2","$RefreshReg$"],"sources":["/tmp/Weather-App/weatherapp_project/weather_frontend/src/components/DeleteWeather.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"baseui/button\";\nimport { styled } from \"baseui\";\nimport axios from \"axios\";\n\n// Styled message box\nconst MessageBox = styled(\"div\", (props) => ({\n  width: \"400px\",\n  margin: \"10px auto\",\n  padding: \"10px\",\n  borderRadius: \"8px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  backgroundColor: props.$success ? \"green\" : \"red\",\n}));\n\nexport default function DeleteWeather({ city, onDeleteSuccess }) {  // ✅ Ensure this is the default export\n  const [message, setMessage] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleDelete = async () => {\n    if (!window.confirm(`Are you sure you want to delete weather info for ${city}?`)) {\n      return;\n    }\n\n    setLoading(true);\n    setMessage(null);\n\n    try {\n        const response = await axios.delete(`http://116.203.184.212:5000/api/weather/${city}`, {\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            withCredentials: true, // ✅ Required for CORS\n          });\n      if (response.data.status === \"1\") {\n        setSuccess(true);\n        setMessage(`✅ Weather data for ${city} deleted successfully!`);\n        onDeleteSuccess();  // Remove city from UI\n      } else {\n        setSuccess(false);\n        setMessage(\"❌ Failed to delete the weather data.\");\n      }\n    } catch (error) {\n      console.error(\"❌ API Error:\", error);\n      setSuccess(false);\n      setMessage(\"❌ Failed to delete the weather data.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      {message && <MessageBox $success={success}>{message}</MessageBox>}\n      <Button onClick={handleDelete} disabled={loading}>\n        {loading ? \"Deleting...\" : \"Delete Weather Info\"}\n      </Button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}