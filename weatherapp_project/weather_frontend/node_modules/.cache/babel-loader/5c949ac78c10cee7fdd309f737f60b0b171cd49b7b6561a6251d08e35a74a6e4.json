{"ast":null,"code":"var _jsxFileName = \"/tmp/Weather-App/weatherapp_project/weather_frontend/src/components/UpdateWeather.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button } from \"baseui/button\";\nimport { Input } from \"baseui/input\";\nimport { styled } from \"baseui\";\nimport axios from \"axios\";\n\n// Styled components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormContainer = styled(\"div\", {\n  width: \"400px\",\n  margin: \"20px auto\",\n  padding: \"20px\",\n  borderRadius: \"10px\",\n  boxShadow: \"0 4px 8px rgba(0,0,0,0.2)\",\n  backgroundColor: \"#ffffff\",\n  fontFamily: \"Arial, sans-serif\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: \"12px\"\n});\n_c = FormContainer;\nconst MessageBox = styled(\"div\", props => ({\n  width: \"400px\",\n  margin: \"10px auto\",\n  padding: \"10px\",\n  borderRadius: \"8px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  backgroundColor: props.$success ? \"green\" : \"red\"\n}));\n_c2 = MessageBox;\nexport default function UpdateWeather({\n  city,\n  temperature,\n  humidity,\n  windspeed,\n  onUpdateSuccess\n}) {\n  _s();\n  const [newTemperature, setNewTemperature] = useState(temperature);\n  const [newHumidity, setNewHumidity] = useState(humidity);\n  const [newWindspeed, setNewWindspeed] = useState(windspeed);\n  const [message, setMessage] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const handleUpdate = async () => {\n    if (!window.confirm(`Are you sure you want to update weather info for ${city}?`)) {\n      return;\n    }\n    setLoading(true);\n    setMessage(null);\n    const requestBody = {\n      city,\n      temperature: Number(newTemperature),\n      humidity: Number(newHumidity),\n      windspeed: Number(newWindspeed)\n    };\n    try {\n      const response = await axios.put(`http://116.203.184.212:5000/api/weather/${city}`, requestBody, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        withCredentials: true // ✅ Required for CORS\n      });\n      if (response.data.status === 1) {\n        setSuccess(true);\n        setMessage(`✅ Weather data for ${city} updated successfully!`);\n        onUpdateSuccess(response.data.updated_weather); // Update UI\n      } else {\n        setSuccess(false);\n        setMessage(\"❌ Failed to update the weather data.\");\n      }\n    } catch (error) {\n      console.error(\"❌ API Error:\", error);\n      setSuccess(false);\n      setMessage(\"❌ Failed to update the weather data.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [message && /*#__PURE__*/_jsxDEV(MessageBox, {\n      $success: success,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        type: \"number\",\n        placeholder: \"Temperature (\\xB0C)\",\n        value: newTemperature,\n        onChange: e => setNewTemperature(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"number\",\n        placeholder: \"Humidity (%)\",\n        value: newHumidity,\n        onChange: e => setNewHumidity(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"number\",\n        placeholder: \"Wind Speed (km/h)\",\n        value: newWindspeed,\n        onChange: e => setNewWindspeed(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleUpdate,\n        disabled: loading,\n        children: loading ? \"Updating...\" : \"Update Weather Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(UpdateWeather, \"7jIJRAet+KVBvPYo2yWzX7UN8Ig=\");\n_c3 = UpdateWeather;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"FormContainer\");\n$RefreshReg$(_c2, \"MessageBox\");\n$RefreshReg$(_c3, \"UpdateWeather\");","map":{"version":3,"names":["React","useState","Button","Input","styled","axios","jsxDEV","_jsxDEV","FormContainer","width","margin","padding","borderRadius","boxShadow","backgroundColor","fontFamily","display","flexDirection","gap","_c","MessageBox","props","textAlign","color","$success","_c2","UpdateWeather","city","temperature","humidity","windspeed","onUpdateSuccess","_s","newTemperature","setNewTemperature","newHumidity","setNewHumidity","newWindspeed","setNewWindspeed","message","setMessage","success","setSuccess","loading","setLoading","handleUpdate","window","confirm","requestBody","Number","response","put","headers","withCredentials","data","status","updated_weather","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","disabled","_c3","$RefreshReg$"],"sources":["/tmp/Weather-App/weatherapp_project/weather_frontend/src/components/UpdateWeather.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"baseui/button\";\nimport { Input } from \"baseui/input\";\nimport { styled } from \"baseui\";\nimport axios from \"axios\";\n\n// Styled components\nconst FormContainer = styled(\"div\", {\n  width: \"400px\",\n  margin: \"20px auto\",\n  padding: \"20px\",\n  borderRadius: \"10px\",\n  boxShadow: \"0 4px 8px rgba(0,0,0,0.2)\",\n  backgroundColor: \"#ffffff\",\n  fontFamily: \"Arial, sans-serif\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: \"12px\",\n});\n\nconst MessageBox = styled(\"div\", (props) => ({\n  width: \"400px\",\n  margin: \"10px auto\",\n  padding: \"10px\",\n  borderRadius: \"8px\",\n  textAlign: \"center\",\n  color: \"#fff\",\n  backgroundColor: props.$success ? \"green\" : \"red\",\n}));\n\nexport default function UpdateWeather({ city, temperature, humidity, windspeed, onUpdateSuccess }) {\n  const [newTemperature, setNewTemperature] = useState(temperature);\n  const [newHumidity, setNewHumidity] = useState(humidity);\n  const [newWindspeed, setNewWindspeed] = useState(windspeed);\n  const [message, setMessage] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleUpdate = async () => {\n    if (!window.confirm(`Are you sure you want to update weather info for ${city}?`)) {\n      return;\n    }\n\n    setLoading(true);\n    setMessage(null);\n\n    const requestBody = {\n      city,\n      temperature: Number(newTemperature),\n      humidity: Number(newHumidity),\n      windspeed: Number(newWindspeed),\n    };\n\n    try {\n      const response = await axios.put(`http://116.203.184.212:5000/api/weather/${city}`, requestBody, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        withCredentials: true, // ✅ Required for CORS\n      });\n\n      if (response.data.status === 1) {\n        setSuccess(true);\n        setMessage(`✅ Weather data for ${city} updated successfully!`);\n        onUpdateSuccess(response.data.updated_weather); // Update UI\n      } else {\n        setSuccess(false);\n        setMessage(\"❌ Failed to update the weather data.\");\n      }\n    } catch (error) {\n      console.error(\"❌ API Error:\", error);\n      setSuccess(false);\n      setMessage(\"❌ Failed to update the weather data.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      {message && <MessageBox $success={success}>{message}</MessageBox>}\n      <FormContainer>\n        <Input\n          type=\"number\"\n          placeholder=\"Temperature (°C)\"\n          value={newTemperature}\n          onChange={(e) => setNewTemperature(e.target.value)}\n        />\n        <Input\n          type=\"number\"\n          placeholder=\"Humidity (%)\"\n          value={newHumidity}\n          onChange={(e) => setNewHumidity(e.target.value)}\n        />\n        <Input\n          type=\"number\"\n          placeholder=\"Wind Speed (km/h)\"\n          value={newWindspeed}\n          onChange={(e) => setNewWindspeed(e.target.value)}\n        />\n        <Button onClick={handleUpdate} disabled={loading}>\n          {loading ? \"Updating...\" : \"Update Weather Info\"}\n        </Button>\n      </FormContainer>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,KAAK,QAAQ,cAAc;AACpC,SAASC,MAAM,QAAQ,QAAQ;AAC/B,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,aAAa,GAAGJ,MAAM,CAAC,KAAK,EAAE;EAClCK,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,WAAW;EACnBC,OAAO,EAAE,MAAM;EACfC,YAAY,EAAE,MAAM;EACpBC,SAAS,EAAE,2BAA2B;EACtCC,eAAe,EAAE,SAAS;EAC1BC,UAAU,EAAE,mBAAmB;EAC/BC,OAAO,EAAE,MAAM;EACfC,aAAa,EAAE,QAAQ;EACvBC,GAAG,EAAE;AACP,CAAC,CAAC;AAACC,EAAA,GAXGX,aAAa;AAanB,MAAMY,UAAU,GAAGhB,MAAM,CAAC,KAAK,EAAGiB,KAAK,KAAM;EAC3CZ,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,WAAW;EACnBC,OAAO,EAAE,MAAM;EACfC,YAAY,EAAE,KAAK;EACnBU,SAAS,EAAE,QAAQ;EACnBC,KAAK,EAAE,MAAM;EACbT,eAAe,EAAEO,KAAK,CAACG,QAAQ,GAAG,OAAO,GAAG;AAC9C,CAAC,CAAC,CAAC;AAACC,GAAA,GAREL,UAAU;AAUhB,eAAe,SAASM,aAAaA,CAAC;EAAEC,IAAI;EAAEC,WAAW;EAAEC,QAAQ;EAAEC,SAAS;EAAEC;AAAgB,CAAC,EAAE;EAAAC,EAAA;EACjG,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGjC,QAAQ,CAAC2B,WAAW,CAAC;EACjE,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGnC,QAAQ,CAAC4B,QAAQ,CAAC;EACxD,MAAM,CAACQ,YAAY,EAAEC,eAAe,CAAC,GAAGrC,QAAQ,CAAC6B,SAAS,CAAC;EAC3D,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACwC,OAAO,EAAEC,UAAU,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC0C,OAAO,EAAEC,UAAU,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAM4C,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,oDAAoDpB,IAAI,GAAG,CAAC,EAAE;MAChF;IACF;IAEAiB,UAAU,CAAC,IAAI,CAAC;IAChBJ,UAAU,CAAC,IAAI,CAAC;IAEhB,MAAMQ,WAAW,GAAG;MAClBrB,IAAI;MACJC,WAAW,EAAEqB,MAAM,CAAChB,cAAc,CAAC;MACnCJ,QAAQ,EAAEoB,MAAM,CAACd,WAAW,CAAC;MAC7BL,SAAS,EAAEmB,MAAM,CAACZ,YAAY;IAChC,CAAC;IAED,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAM7C,KAAK,CAAC8C,GAAG,CAAC,2CAA2CxB,IAAI,EAAE,EAAEqB,WAAW,EAAE;QAC/FI,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,eAAe,EAAE,IAAI,CAAE;MACzB,CAAC,CAAC;MAEF,IAAIH,QAAQ,CAACI,IAAI,CAACC,MAAM,KAAK,CAAC,EAAE;QAC9Bb,UAAU,CAAC,IAAI,CAAC;QAChBF,UAAU,CAAC,sBAAsBb,IAAI,wBAAwB,CAAC;QAC9DI,eAAe,CAACmB,QAAQ,CAACI,IAAI,CAACE,eAAe,CAAC,CAAC,CAAC;MAClD,CAAC,MAAM;QACLd,UAAU,CAAC,KAAK,CAAC;QACjBF,UAAU,CAAC,sCAAsC,CAAC;MACpD;IACF,CAAC,CAAC,OAAOiB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACpCf,UAAU,CAAC,KAAK,CAAC;MACjBF,UAAU,CAAC,sCAAsC,CAAC;IACpD,CAAC,SAAS;MACRI,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACErC,OAAA;IAAAoD,QAAA,GACGpB,OAAO,iBAAIhC,OAAA,CAACa,UAAU;MAACI,QAAQ,EAAEiB,OAAQ;MAAAkB,QAAA,EAAEpB;IAAO;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAa,CAAC,eACjExD,OAAA,CAACC,aAAa;MAAAmD,QAAA,gBACZpD,OAAA,CAACJ,KAAK;QACJ6D,IAAI,EAAC,QAAQ;QACbC,WAAW,EAAC,qBAAkB;QAC9BC,KAAK,EAAEjC,cAAe;QACtBkC,QAAQ,EAAGC,CAAC,IAAKlC,iBAAiB,CAACkC,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC,eACFxD,OAAA,CAACJ,KAAK;QACJ6D,IAAI,EAAC,QAAQ;QACbC,WAAW,EAAC,cAAc;QAC1BC,KAAK,EAAE/B,WAAY;QACnBgC,QAAQ,EAAGC,CAAC,IAAKhC,cAAc,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CAAC,eACFxD,OAAA,CAACJ,KAAK;QACJ6D,IAAI,EAAC,QAAQ;QACbC,WAAW,EAAC,mBAAmB;QAC/BC,KAAK,EAAE7B,YAAa;QACpB8B,QAAQ,EAAGC,CAAC,IAAK9B,eAAe,CAAC8B,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD,CAAC,eACFxD,OAAA,CAACL,MAAM;QAACoE,OAAO,EAAEzB,YAAa;QAAC0B,QAAQ,EAAE5B,OAAQ;QAAAgB,QAAA,EAC9ChB,OAAO,GAAG,aAAa,GAAG;MAAqB;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACb,CAAC;AAEV;AAAC/B,EAAA,CA5EuBN,aAAa;AAAA8C,GAAA,GAAb9C,aAAa;AAAA,IAAAP,EAAA,EAAAM,GAAA,EAAA+C,GAAA;AAAAC,YAAA,CAAAtD,EAAA;AAAAsD,YAAA,CAAAhD,GAAA;AAAAgD,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}